<p><strong>{{ total }}</strong> votes found (page {{ page }}/{{ total_pages }})</p>

<div class="overflow-auto">
    <table>
        <thead>
            <tr>
                <th>Date</th>
                <th>Description</th>
                <th>Result</th>
                <th>For</th>
                <th>Against</th>
                <th>Abstained</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            {% for row in rows %}
            <tr>
                <td><small>{{ row.datum }}<br>{{ row.cas }}</small></td>
                <td>
                    {% if row.nazev_kratky %}
                    {{ row.nazev_kratky }}
                    {% elif row.nazev_dlouhy %}
                    {{ row.nazev_dlouhy[:120] }}{% if row.nazev_dlouhy|length > 120 %}...{% endif %}
                    {% else %}
                    <em>Session {{ row.schuze }}, vote {{ row.cislo }}</em>
                    {% endif %}
                    {% if row.tisk_url %}
                    <br><small><a href="{{ row.tisk_url }}" target="_blank">Tisk {{ row.tisk_ct }}</a></small>
                    {% endif %}
                </td>
                <td>
                    {% if row.vysledek == "A" %}
                    <span style="color: #4caf50;">{{ row.outcome_label }}</span>
                    {% elif row.vysledek == "R" %}
                    <span style="color: #f44336;">{{ row.outcome_label }}</span>
                    {% else %}
                    {{ row.outcome_label }}
                    {% endif %}
                </td>
                <td>{{ row.pro }}</td>
                <td>{{ row.proti }}</td>
                <td>{{ row.zdrzel }}</td>
                <td>
                    <a href="/votes/{{ row.id_hlasovani }}?period={{ period }}" role="button" class="outline" style="padding: 0.25rem 0.5rem; font-size: 0.8rem;">Detail</a>
                    <a href="https://www.psp.cz/sqw/hlasy.sqw?G={{ row.id_hlasovani }}" target="_blank" style="padding: 0.25rem 0.5rem; font-size: 0.8rem;">psp.cz</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% if total_pages > 1 %}
<nav>
    <ul>
        {% if page > 1 %}
        <li>
            <a href="#" hx-get="/api/votes?period={{ period }}&search={{ search }}&outcome={{ outcome }}&page={{ page - 1 }}"
               hx-target="#results" hx-indicator="#loading">&larr; Previous</a>
        </li>
        {% endif %}
        <li><span>Page {{ page }} of {{ total_pages }}</span></li>
        {% if page < total_pages %}
        <li>
            <a href="#" hx-get="/api/votes?period={{ period }}&search={{ search }}&outcome={{ outcome }}&page={{ page + 1 }}"
               hx-target="#results" hx-indicator="#loading">Next &rarr;</a>
        </li>
        {% endif %}
    </ul>
</nav>
{% endif %}
